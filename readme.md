# Simpatico

Josh Rehman, 28 June 2020

## Overview

Simpatico in its current form is a prototype exploring three areas of application development. First, the idea that software can be expressed as a combination of inputs, embodied by the `combine()` function. Second, the idea that software's superpower is the ability to copy even the most intricate state perfectly, leading to the Rehman Tree, or `rtree`, which is a representation of many related states, or worldlines, such that the tip of each one is a coherent application state. Finally, the idea of the "Friendly Function", which is a function that helps the caller understand how to call it. This is achieved primarily with the (poorly named) `validate()` function, which does pattern checking on objects, returning the parts of the pattern that failed to pass. In this way, we see that a program's degrees-of-freedom (or DoF, a concept borrowed from physics) is the sum total of the programs patterns at any point in time.

The ultimate utility of this library is to enable *monomorphic* browser applications, where the browser serves as both the client and server. The "server" itself becomes simply a dumb router, essentially reifying the internet itself. This is in contrast to "isomorphic" applications who's claim to fame is using the same language on the client and server - a monomorphic javascript application uses the browser as the basis of the server, too. This style of application I like to call "Structured Chat", in reference to the fact that, I believe, all modern computer applications can be characterized as a particular reduction over the lifetime of chat messages between two identities (which in my mind is best represented as a public key).

There are, of course, some challenges, particularly in the area of persistence. LocalStorage is under attack by browser vendors, who would prefer to treat it as ephemeral. And yet Simpatico requires something persistent in the browser, and would like to avoid the hoops that Tiddlywiki, for example, has to jump through to enable saving and backups. Other solutions to this problem abound, from the relatively heavy-weight Electron (which replaces the browser entirely) to the middling weight Joplin (which runs a daemon plus a browser plugin that calls into that daemon).

## Possibilties

These are the primary components of what I hope to be a revolutionary software development environment, where software is built in the same way the software is used, collaboratively, through the web (TTW). While it's heartening to me to see TTW technologies explode, for the most part they are recapitulating traditional software methods. Codepen.io for example is still quite code oriented, as are most of these environments. Simpatico is an attempt to "go with the grain" of the web, and do something really different.

I think it's likely that Simpatico can support 100k simultaneous users on relatively modest machines, a number approaching 1 if you ignore backups. Perhaps more, depending on the nature of the application. By nature, Simpatico applications are high availability, as the build-test-deploy cycle is integrated with the runtime itself. Applications *always* incrementally update, which obviates the need for separate, expensive and error prone devops software.

The goal is to build small teams of 4 people or so that can build a working application that meets the needs of all stakeholders in close to real time. The value here would be immense; venture capitalists could test a lot more ideas a lot faster, for example. Only those ideas that are successful need to get the bespoke treatment required to scale above 1 server, and I imagine as time goes on the knowledge of how to scale a Simpatico application up will grow, and it will become easier. But the fact that Simpatico encourages a "ship in a bottle" approach to application design (that is, to model your problem "in the small" and then "render it out") gives you a much better chance of succeeding even in that.
