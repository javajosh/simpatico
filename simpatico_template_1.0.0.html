<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Demonstration of Tufte CSS</title>
  <link rel="stylesheet" href="tufte.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=".">
  <meta name="author" content="Josh Rehman">
  <meta name="keywords" content="">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <style>
     /* Useful during debugging to stop 3rd party embedded content from loading */
    /*.iframe-wrapper {display: none;}*/
  </style>
</head>

<body>
  <nav class="menu">
    <ol>
      <li class="menu-item"><a href="#">üßô‚Äç‚ôÇÔ∏èHome</a></li>
      <li class="menu-item"><a href="#">About</a></li>
      <li class="menu-item"><a href="#">Contact</a></li>
    </ol>
  </nav>
  <section class="browser-defense">
    <noscript><p><mark>Please turn on JavaScript to experience the interactivity in the article</mark>. Note that this page adheres to strict rules that protect your computer and privacy, including the use of only short, simple, elegant resources that are only served from this one domain that I own. I don't use any 3rd party trackers or infrastructure services (like a Content Delivery Network, or ), instead relying on excellent code to make the user experience world-class.</p></noscript>

    <p id='old-browser-warning' style="display:none">
      <mark>Your browser is too old to properly run this page. Please upgrade to a <a href="https://www.smashingmagazine.com/2012/07/dear-web-user-please-upgrade-your-browser/">modern browser</a></mark>. Thank you.
    </p>

    <script>
      window.onerror = function(e){document.getElementById('old-browser-warning').setAttribute('style','');}
    </script>

    <script>
      // If the browser doesn't support ES6 it will fail to parse this short script and trigger the onerror handler above.
      // It will also trigger if you have a general syntax error in your initialization or handler code.
      let foo =1;
      const bar = 2;
      const sum = (a,b) => a+b;
      if (sum(foo,bar) !== 3) throw 'Bad math processing exception';
    </script>
  </section>
  <article class="post">
    <header>
      <h1 id="a-blog-post">‚ò∏ [Your Title Here]</h1>
      <p class="subtitle">By Josh Rehman  <time datetime="YYYY-MM-DD HH:00">mm dd, yyyy</time></p>
      <div class="epigraph">
        <blockquote>
          <p>Sometimes we begin a piece with an ambiguous quote from someone famous to create a (generally false) sense of connection between you and the more famous person.</p>
          <footer>Josh Rehman, ‚ÄúRhetoric and Rationality in the Information Age‚Äù</footer>
        </blockquote>
      </div>
    </header>
    <section>
      <h2 id="overview">Overview</h2>
      <p><span class="newthought">In his later books<label for="sn-in-his-later-books" class="margin-toggle sidenote-number"></label></span><input type="checkbox" id="sn-in-his-later-books" class="margin-toggle"><span class="sidenote"><a href="http://www.edwardtufte.com/tufte/books_be"><em>Beautiful Evidence</em></a></span>, Tufte starts each section with a bit of vertical space, a non-indented paragraph, and the first few words of the sentence set in small caps. For this we use a span with the class <code>newthought</code>, as demonstrated at the beginning of this paragraph. Vertical spacing is accomplished separately through <code>&lt;section&gt;</code> tags. Be consistent: though we do so in this paragraph for the purpose of demonstration, do not alternate use of header elements and the <code>newthought</code> technique. Pick one approach and stick to it.</p>

      <p>It's really nice to have good figures.</p>
      <figure class="iframe-wrapper">
        <iframe width="500" height="500" src="./core.html" frameborder="0" allowfullscreen></iframe>
      </figure>

      <p>Lets see how we can do with codepen</p>

      <figure class="iframe-wrapper">
        <label for="svg-animation-checkbox" class="margin-toggle">‚äï</label><input type="checkbox" id="svg-animation-checkbox" class="margin-toggle"><span class="marginnote">A wonderful SVG animation From <a href="https://codepen.io/jjperezaguinaga">JJ Perez on CodePen</a>. Note that you can edit this code in place to see how it works.</span>

         <iframe id="svg-animation" width="853" height="480" scrolling="no" title="SVG Animation" src="https://codepen.io/jjperezaguinaga/embed/yuBdq?height=480&theme-id=light&default-tab=result" frameborder="0" allowtransparency="true" allowfullscreen>
        </iframe>
      </figure>

      <p>Here is an SVG image that is defined inline, with a major and minor grid. The coordinate system is <em>normalized</em> such that the origin is in the center, y is up, and the unit circle covers the entire area. However, rather than use true normalization (where the extents would be -1.0 and +1.0) I've used (-100 and +100) as the extents, for the simple reason that it's more convenient to author, and it's rare to require more than 1/100 of any dimention of screen for this sort of work. Additionally there is a small bit of code that makes <em>circles</em> react when you click on them. Try it out!</p>

      <figure>
        <span class="marginnote">This drawing is ever so slightly <em>Interactive</em>:
          <br>
          <button id="btn-up">Up</button>
          <button id="btn-down">Down</button>
          <br>
          <input id="range-x" step=10 type="range" min=-100 max=100>
          <br>
          <input id="range-y" step=10 type="range" min=-100 max=100>
          <hr>
          <button id="btn-start">Start ‚è±</button>
          <button id="btn-stop">Stop</button>
        </span>

        <svg id="figure-1" width="500" height="500" viewBox="-405 -405 806 806" style="border: none">
          <defs>
            <!-- Make a major/minor grid -->
            <pattern id="smallGrid" width="8" height="8" patternUnits="userSpaceOnUse">
              <path d="M 8,0 L 0,0 0,8" fill="none" stroke="gray" stroke-width=".5" />
            </pattern>
            <pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse">
              <rect width="80" height="80" fill="url(#smallGrid)" />
              <path d="M 80,0 L 0,0 0,80" fill="none" stroke="gray" stroke-width="1" />
            </pattern>

            <!-- Marks for vectors-->
            <marker id="start" markerWidth="5" markerHeight="5" refX="2.5" refY="2.5">
              <circle cx="2.5" cy="2.5" r="2.5" fill="black" stroke="black"/>
            </marker>
            <marker id="stop" markerWidth="20" markerHeight="10" refX="20" refY="5" orient="auto">
              <path d="M0,0 L20,5 0,10 5,5 Z" fill="black" />
            </marker>
          </defs>

          <!-- Draw the grid -->
          <rect x="-400" y="-400" width="100%" height="100%" fill="url(#grid)" />

          <!-- Draw a sample vector from the origin -->
          <line class="vector" stroke="black" marker-start="url(#start)" marker-end="url(#stop)" />
          <line class="vector" stroke="black" marker-start="url(#start)" marker-end="url(#stop)" />
          <line class="vector" stroke="black" marker-start="url(#start)" marker-end="url(#stop)" />
          <line class="vector" stroke="black" marker-start="url(#start)" marker-end="url(#stop)" />

          <!-- Now lets draw on the grid in a mostly normalized way -->
          <g transform="scale(4,-4)">
            <path d="M 0,0 L 100,100" stroke-width=".1" stroke="red" fill="none"/>
            <path d="M 0,100 L 100,0" stroke-width=".1" stroke="blue" fill="none"/>
            <circle r="100" cx="0" cy="0" fill="blue" opacity=".1" stroke="black" stroke-width=".1"/>
            <circle id="small-red-circle" r="5" cx="10" cy="10" fill="red" opacity=".3" stroke="gray" stroke-width=".1"/>
          </g>
        </svg>
        <script>
          'use strict';
          // Utils
          const LOG_ENABLED = false;
          console.log("LOG_ENABLED", LOG_ENABLED);
          const log = function(){if (LOG_ENABLED) console.log.apply(console, arguments); return true};
          const getAttr = (elt, attr) => log(elt, attr) && elt.getAttribute(attr) * 1;
          const setAttr = (elt, attr, val) => log(elt, attr, val) && elt.setAttribute(attr, val);
          const incAttr = (elt, attr, delta) => setAttr(elt, attr, getAttr(elt, attr) + delta);
          const elt = document.getElementById.bind(document);
          const elts = document.querySelectorAll.bind(document);

          // The clock drives several rotating vectors.
          const vectors = elts('.vector');
          const ms = 1, MIN_INTERVAL = 100 * ms, R = 400;
          let ticks = 0, lastT = 0, enabled = true;
          const tick = t => {
            if (MIN_INTERVAL <= t - lastT) {
              ticks++;
              lastT = t;
              vectors.forEach((v, i) => {
                i = i + 1;
                setAttr(v, 'x2', 1/i * R * Math.cos(i * ticks/100));
                setAttr(v, 'y2', 1/i * R * Math.sin(i * ticks/100));
              })
            }
            if (enabled) {
              window.requestAnimationFrame(tick);
            }
          }
          tick(lastT);

          // Clicking the buttons starts and stops the animation
          elt('btn-start').onclick = e => {enabled = true; tick()};
          elt('btn-stop' ).onclick = e =>  enabled = false;


          // Clicking buttons moves the red circle
          const circle = elt('small-red-circle');
          elt('btn-up'  ).onclick = e => incAttr(circle, 'cy', 1);
          elt('btn-down').onclick = e => incAttr(circle, 'cy', -1);
          // Dragging the slider moves a circle
          elt('range-x' ).oninput = e => setAttr(circle, 'cx', e.target.value);
          elt('range-y' ).oninput = e => setAttr(circle, 'cy', e.target.value);

          // Clicking any circle moves it a little
          const INC = 1; // depends on the containing transform above
          const isCircle = elt => elt.tagName === 'circle';
          elt('figure-1').onmousedown = e => {
            if (isCircle(e.target)){
              incAttr(e.target, 'cx', INC);
              incAttr(e.target, 'cy', INC);
            }
          };
        </script>
      </figure>
    </section>
  </article>
  <footer>Copywrite 2020 Josh Rehman, All Rights Reserved. <hr> <em>Colophon:</em> HTML5, ES6, CSS3, SVG1.1, Unicode, UTF8, JSON, macOS 10, SublimeText 3, HTTP 1.1, Linux 5, Nginx 5.4, heavily modified <a href="https://edwardtufte.github.io/tufte-css/">Tufte CSS</a></footer>
</body>

</html>
